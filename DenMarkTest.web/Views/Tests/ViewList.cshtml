@using DenMarkTest.web.ViewModel
@using DenMarkTest.core.Abstract
@using DenMarkTest.DataAccessLayer.Entities
@inject ITestService  _service
<br/><br/>
<div class="row">

    <div class="col-md-3">

    </div>


    <div class="col-md-6">
        <a asp-action="CreateTest">

            <input type="button" value="Creat New Test" name="btnNewTest" class="btn btn-block" />

        </a>

        <table class="table table-striped">

            <tr>
                <th>Date</th>
                <th>Number of Participants</th>
                <th>Test type</th>
            </tr>

            @{
            var Test = await _service.getAllTest();

            foreach (var item in Test)
            {
                if (item != null)
                {

                    var count = item.TestParticipants.Count();
                    <tr>
                        <td>@item.testDate</td>
                        <td>@count</td>
                        <td>
                            <a asp-action="TestDetails" asp-route-guid="@item.guid"> @item.testType</a>
                        </td>
                    </tr>
            }
        }

            }
        </table>
    </div>



    <div class="col-md-3">

    </div>

</div>

